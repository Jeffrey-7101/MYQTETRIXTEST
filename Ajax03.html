<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<h id="demo"></h><br>
	<button type="button" onclick="loadDoc()">Change Text</button>
	<script >
		function loadDoc(){
			var xhttp=new XMLHttpRequest();
			xhttp.onreadystatechange=function(){
				if(this.readyState == 4 && this.status== 200){
					document.getElementById("demo").innerHTML="working...";
					var  myObject = JSON.parse(this.responseText);
					var myArray=copiarArray(myObject);
					myArray.sort(function(a,b){return b.value - a.value});
					var y;
					var html="\t<br>";
					console.log(myArray);
					for(y=0;y<myArray.length-1;y++){
						var regiones=myArray[y].region;
						var casos=Number(myArray[i].value);
						html +=regiones+"\t"+casos;
					}
				}
			};
			xhttp.open("GET","data.json",true);
			xhttp.send();

		}
		function copiarArray(myObject){
			var newArray=[];
			for(var i in myObject){
				var region=myObject[i].region;
				var confirmados=myObject[i].confirmed;
				var last=confirmados[confirmados.length -1];
				var object={name:region,value:last.value};
				newArray.push(object);
				};
			return newArray;
		}
	</script>

</body>
</html>
